# ü™ü Windows MT5 Data Provider

–õ–µ–≥–∫–∏–π API —Å–µ—Ä–≤—ñ—Å –¥–ª—è –≤—ñ–¥–¥–∞—á—ñ –¥–∞–Ω–∏—Ö –∑ MetaTrader 5 –Ω–∞ Linux —Å–µ—Ä–≤–µ—Ä.

## üéØ –†–æ–ª—å

Windows Server –≤–∏–∫–æ–Ω—É—î **–¢–Ü–õ–¨–ö–ò –æ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é** - –∑–±–∏—Ä–∞—î –¥–∞–Ω—ñ –∑ MT5 —ñ –≤—ñ–¥–¥–∞—î —á–µ—Ä–µ–∑ HTTP API.

**–ù–µ —Ä–æ–±–∏—Ç—å:**
- ‚ùå –ù–∞–≤—á–∞–Ω–Ω—è –º–æ–¥–µ–ª–µ–π
- ‚ùå –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Å–∏–≥–Ω–∞–ª—ñ–≤
- ‚ùå –í–∞–∂–∫—ñ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è

**–†–æ–±–∏—Ç—å:**
- ‚úÖ –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ MT5
- ‚úÖ –í—ñ–¥–¥–∞—á–∞ real-time —Ü—ñ–Ω
- ‚úÖ –í—ñ–¥–¥–∞—á–∞ —ñ—Å—Ç–æ—Ä–∏—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- ‚úÖ –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (1-2 GB RAM)

---

## üöÄ –ó–∞–ø—É—Å–∫

### –ö—Ä–æ–∫ 1: –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
```bash
pip install -r windows/requirements.txt
```

### –ö—Ä–æ–∫ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–∏ MT5 Terminal
–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Å—è —â–æ MT5 Terminal **–∑–∞–ø—É—â–µ–Ω–∏–π —ñ –∑–∞–ª–æ–≥—ñ–Ω–µ–Ω–∏–π**.

### –ö—Ä–æ–∫ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–∏ API
```bash
windows\start_mt5_provider.bat
```

–ê–±–æ –≤—Ä—É—á–Ω—É:
```bash
python windows/mt5_data_provider.py
```

–°–µ—Ä–≤—ñ—Å –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –Ω–∞ `http://0.0.0.0:5000`

---

## üì° API Endpoints

### Health Check
```bash
GET http://84.247.166.52:5000/
GET http://84.247.166.52:5000/api/mt5/health
```

### –ü–æ—Ç–æ—á–Ω—ñ —Ü—ñ–Ω–∏
```bash
# –û–¥–Ω–∞ –ø–∞—Ä–∞
GET http://84.247.166.52:5000/api/mt5/price/EURUSD

# –í—Å—ñ –ø–∞—Ä–∏
GET http://84.247.166.52:5000/api/mt5/prices
```

### –Ü—Å—Ç–æ—Ä–∏—á–Ω—ñ –¥–∞–Ω—ñ
```bash
# 1 —Ä—ñ–∫ –¥–∞–Ω–∏—Ö H1
GET http://84.247.166.52:5000/api/mt5/history/EURUSD/H1?years=1

# 5 —Ä–æ–∫—ñ–≤ –¥–∞–Ω–∏—Ö M15
GET http://84.247.166.52:5000/api/mt5/history/EURUSD/M15?years=5

# –û–±–º–µ–∂–∏—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –±–∞—Ä—ñ–≤
GET http://84.247.166.52:5000/api/mt5/history/EURUSD/D1?years=20&limit=5000
```

–ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∏:
- M1, M5, M15, M30
- H1, H2, H4
- D1, W1, MN1

### –°–ø–∏—Å–æ–∫ —Å–∏–º–≤–æ–ª—ñ–≤
```bash
GET http://84.247.166.52:5000/api/mt5/symbols
```

---

## üîß –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

–°–ø–∏—Å–æ–∫ —Å–∏–º–≤–æ–ª—ñ–≤ –±–µ—Ä–µ—Ç—å—Å—è –∑ `config.yaml`:
```yaml
symbols:
  - EURUSD
  - GBPUSD
  - USDJPY
  # ...
```

---

## üêõ Troubleshooting

### MT5 –Ω–µ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä —â–æ MT5 Terminal –∑–∞–ø—É—â–µ–Ω–∏–π
tasklist | findstr terminal64.exe

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ MT5
```

### –ü–æ—Ä—Ç 5000 –∑–∞–π–Ω—è—Ç–∏–π
```bash
# –ó–Ω–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å
netstat -ano | findstr :5000

# –í–±–∏—Ç–∏ –ø—Ä–æ—Ü–µ—Å
taskkill /F /PID <PID>
```

### –°–∏–º–≤–æ–ª –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∏–π
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Å—è —â–æ —Å–∏–º–≤–æ–ª —î –≤ Market Watch —É MT5
- –ü—Ä–∞–≤–∞ –∫–Ω–æ–ø–∫–∞ –Ω–∞ —Å–∏–º–≤–æ–ª ‚Üí Show

---

## üìä –†–µ—Å—É—Ä—Å–∏

–¶–µ–π —Å–µ—Ä–≤—ñ—Å **–¥—É–∂–µ –ª–µ–≥–∫–∏–π**:
- RAM: ~200-500 MB
- CPU: ~1-2%
- Disk: –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ

–ú–æ–∂–Ω–∞ –∑–∞–ø—É—Å–∫–∞—Ç–∏ –Ω–∞ **—Å–ª–∞–±–∫–æ–º—É –∫–æ–º–ø'—é—Ç–µ—Ä—ñ** –∞–±–æ –Ω–∞–≤—ñ—Ç—å Raspberry Pi –∑ Wine.

---

## üîê –ë–µ–∑–ø–µ–∫–∞

**–î–ª—è Production:**
1. –î–æ–¥–∞–π API –∫–ª—é—á:
```python
API_KEY = "secret_key_123"

@app.before_request
def check_api_key():
    if request.headers.get("X-API-Key") != API_KEY:
        return jsonify({"error": "Unauthorized"}), 401
```

2. –û–±–º–µ–∂ –¥–æ—Å—Ç—É–ø —Ç—ñ–ª—å–∫–∏ –∑ Linux IP:
```python
ALLOWED_IPS = ["<Linux server IP>"]

@app.before_request
def check_ip():
    if request.remote_addr not in ALLOWED_IPS:
        return jsonify({"error": "Forbidden"}), 403
```

3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π VPN (WireGuard) –º—ñ–∂ Windows —ñ Linux.

---

**Status:** Ready to use ‚úÖ
**Port:** 5000
**Resources:** Minimal
