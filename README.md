# üöÄ Forex LSTM Signals - –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –≤–µ—Ä—Å—ñ—è 2.0

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Ç–æ—Ä–≥–æ–≤–∏—Ö —Å–∏–≥–Ω–∞–ª—ñ–≤ –¥–ª—è Forex –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º MetaTrader 5, –ø–æ–∫—Ä–∞—â–µ–Ω–∏—Ö LSTM/GRU/Attention –º–æ–¥–µ–ª–µ–π, meta-learning —Ç–∞ —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–æ—ó –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏.

[![Python 3.8+](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![TensorFlow](https://img.shields.io/badge/TensorFlow-2.x-orange.svg)](https://www.tensorflow.org/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

## ‚ö° –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

```bash
# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
pip install -r requirements.txt

# –®–≤–∏–¥–∫–∏–π —Ç–µ—Å—Ç (5-15 —Ö–≤–∏–ª–∏–Ω)
python run_improved_pipeline.py --fast-mode --skip-fetch

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏
codex run web  # http://127.0.0.1:8000
```

## üéØ –©–æ –Ω–æ–≤–æ–≥–æ —É –≤–µ—Ä—Å—ñ—ó 2.0?

| –ö–∞—Ç–µ–≥–æ—Ä—ñ—è | –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|-----------|------------|-----------|
| **Features** | 15 ‚Üí 45+ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä—ñ–≤ | +200% |
| **–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏** | LSTM ‚Üí LSTM+GRU+Attention | +200% |
| **Data** | Original ‚Üí 3x augmentation | +200% |
| **Meta-Model** | LightGBM ‚Üí LightGBM+XGBoost | Ensemble |
| **Metrics** | 1 ‚Üí 8 —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∏—Ö –º–µ—Ç—Ä–∏–∫ | +700% |
| **Quality** | Baseline ‚Üí Improved | +15-25% |

### üé® –ö–ª—é—á–æ–≤—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:

- ‚úÖ **45+ —Ç–µ—Ö–Ω—ñ—á–Ω–∏—Ö —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä—ñ–≤** (EMA, RSI, ATR, Stochastic, CCI, ADX, Volume, —Ç–æ—â–æ)
- ‚úÖ **3 —Ç–∏–ø–∏ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä**: LSTM, GRU (—à–≤–∏–¥—à–∏–π), Attention-LSTM
- ‚úÖ **Focal Loss** –¥–ª—è –±–æ—Ä–æ—Ç—å–±–∏ –∑ class imbalance
- ‚úÖ **Data Augmentation** (jittering, magnitude warping)
- ‚úÖ **Walk-Forward Validation** –∑ gap period
- ‚úÖ **BatchNormalization** + Dropout 0.3 + L2 regularization
- ‚úÖ **LightGBM + XGBoost Ensemble** –¥–ª—è meta-learning
- ‚úÖ **–§—ñ–Ω–∞–Ω—Å–æ–≤—ñ –º–µ—Ç—Ä–∏–∫–∏**: Sharpe, Sortino, Max Drawdown, Profit Factor, —Ç–æ—â–æ
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è**: –æ–¥–∏–Ω —Å–∫—Ä–∏–ø—Ç –∑–∞–º—ñ—Å—Ç—å 8 –∫–æ–º–∞–Ω–¥

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- **[üìñ INDEX.md](INDEX.md)** - –ù–∞–≤—ñ–≥–∞—Ü—ñ—è –ø–æ –≤—Å—ñ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó
- **[üöÄ QUICKSTART.md](QUICKSTART.md)** - –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç –∑–∞ 5 —Ö–≤–∏–ª–∏–Ω
- **[üìö EXAMPLES.md](EXAMPLES.md)** - –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏
- **[üìä BEFORE_AFTER.md](BEFORE_AFTER.md)** - –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –¥–æ/–ø—ñ—Å–ª—è
- **[üîß IMPROVEMENTS.md](IMPROVEMENTS.md)** - –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ
- **[üìã SUMMARY.md](SUMMARY.md)** - –ö–æ—Ä–æ—Ç–∫–∏–π –ø—ñ–¥—Å—É–º–æ–∫

---

# Forex LSTM Signals (Automated)

This project provides an automated pipeline for Forex signal generation using MetaTrader 5 data, LSTM model training, and a real-time FastAPI monitoring dashboard.

## Architecture Overview

The system is now composed of two main parts designed for automated, continuous operation:

1.  **Scheduler (`scheduler.py`)**: A command-line script that runs the entire data pipeline in sequence: data fetching, dataset creation, model training, and signal inference. It's designed to be run automatically by a system scheduler (like Windows Task Scheduler or cron).

2.  **Web Dashboard (`scripts/web_server.py`)**: A FastAPI application that provides a real-time view of the system's outputs. It features:
    *   A dashboard to display the latest trading signals generated by the pipeline.
    *   A real-time price feed for all configured currency pairs.
    *   An API to access this data programmatically.

## Windows Deployment

For detailed instructions on how to set up the environment and configure the automated execution on a Windows Server, please refer to **[DEPLOY.md](DEPLOY.md)**.

### Quick Steps:

1.  **Install dependencies:**
    ```bash
    pip install -r requirements.txt
    ```
2.  **Run the pipeline manually (for testing):**
    ```bash
    codex run pipeline
    ```
3.  **Start the web dashboard:**
    ```bash
    codex run web
    ```
4.  Open http://127.0.0.1:8001 to view the dashboard.

## Available API Endpoints

The web server provides the following endpoints:

- `GET /`: The main HTML dashboard.
- `GET /api/signals`: Returns the latest trading signals from `outputs/signals.json`.
- `GET /api/prices`: Returns real-time bid/ask prices for all configured symbols.

## Project Layout

- `config.yaml`: Main configuration for symbols, timeframes, and model parameters.
- `scheduler.py`: The main pipeline execution script for automated runs.
- `scripts/`: Directory containing the individual pipeline scripts (`fetch_mt5.py`, `train_lstm.py`, etc.) and the `web_server.py`.
- `DEPLOY.md`: Detailed instructions for server deployment and automation.
- `data/`, `models/`, `outputs/`: Runtime artifacts created by the pipeline.
- `codex.yaml`: Shortcuts for running the pipeline and web server.
- `requirements.txt`: Python dependencies.

